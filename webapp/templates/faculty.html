<!DOCTYPE html>
<html>
    <!-- Pie Chart to show garage availability in faculty/staff-->
    <head>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        {# The next 4 lines basically gets the data from the py file so that our javascript code can use it #}
        <script type="text/javascript">
            myvar = {{data|tojson}}
        </script>
    </head>

    <body>
        <h1>Available Parking in Faculty Lots</h1>

        <a href="/">Home Page</a>

        {% if is_input_wrong %}
        WRONG INPUT FORMAT. PLEASE USE 'HH' FORMAT FOR HOUR.
         {% endif %}
        <form>
            <p>
                Enter an hour in HH format:
                <input type="text" name="hour" value="{{hour}}">
                Enter a date in YYYY-MM-DD format:
                <input type="text" name="date" value="{{date_input}}">
            </p>
        <br></br>
            <p>
                Enter a Garage: 
                <br>
                <input type="radio" id="Grace" name="garage" value="Grace">
                <label for="Grace">Grace</label><br>
                <input type="radio" id="Warsaw" name="garage" value="Warsaw">
                <label for="Warsaw">Warsaw</label><br>
                <input type="radio" id="Ballard" name="garage" value="Ballard">
                <label for="Ballard">Ballard</label><br>
                <input type="radio" id="Mason" name="garage" value="Mason">
                <label for="Mason">Mason</label><br>
                <input type="submit">
            </p>
        </form>

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
       <div id="piechart" style="width: 900px; height: 500px;"></div>
       <script>
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
    
        function drawChart() {
    
            var data = google.visualization.arrayToDataTable([
            ["Parking Deck", "Available Spaces"]
            ]);
    
            var options = {
                        title: 'Garage availability in faculty/staff spaces',
                        curveType: 'function',
                        legend: { position: 'bottom' }
                    };
    
            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
    
            chart.draw(data, options);
        }
        </script>
    </body>
</html>
